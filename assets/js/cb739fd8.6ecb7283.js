"use strict";(globalThis.webpackChunkmy_web=globalThis.webpackChunkmy_web||[]).push([[2787],{3144:(e,o,n)=>{n.d(o,{A:()=>s});var t=n(6540),r=n(4164);const i={container:"container_z7Qk",zoomable:"zoomable_TB6z",diagramHeader:"diagramHeader_FC95",diagramContent:"diagramContent_h5OI",imageContainer:"imageContainer_RBbf",diagramImage:"diagramImage_OB55",zoomedImage:"zoomedImage_yhOg",overlayControls:"overlayControls_ErKh",zoomButton:"zoomButton_u2xG",captionContainer:"captionContainer_m2Qi",description:"description_Djwr",caption:"caption_m0wT"};var a=n(4848);function s({title:e,description:o,imageUrl:n,caption:s,altText:l,interactive:c=!0,zoomable:d=!0}){const[m,p]=(0,t.useState)(!1);return(0,a.jsxs)("div",{className:(0,r.A)(i.container,d&&i.zoomable),children:[(0,a.jsx)("div",{className:i.diagramHeader,children:(0,a.jsx)("h3",{children:e})}),(0,a.jsxs)("div",{className:i.diagramContent,children:[(0,a.jsxs)("div",{className:i.imageContainer,children:[(0,a.jsx)("img",{src:n,alt:l,className:(0,r.A)(i.diagramImage,m&&i.zoomedImage),onClick:()=>d&&p(!m)}),c&&(0,a.jsx)("div",{className:i.overlayControls,children:(0,a.jsx)("button",{className:i.zoomButton,onClick:e=>{e.stopPropagation(),p(!m)},children:m?"Shrink":"Zoom"})})]}),(0,a.jsxs)("div",{className:i.captionContainer,children:[(0,a.jsx)("p",{className:i.description,children:o}),(0,a.jsx)("p",{className:i.caption,children:(0,a.jsx)("em",{children:s})})]})]})]})}},3595:(e,o,n)=>{n.d(o,{A:()=>c});var t=n(6540),r=n(4164);const i={container:"container_dy5C",header:"header_aSVe",descriptionContainer:"descriptionContainer_W0RN",codeContainer:"codeContainer_QjCA",codeBlock:"codeBlock_GUC4",copyButton:"copyButton_pfMd",copied:"copied_Qlog",expandButton:"expandButton_KpLd"};var a=n(8478),s=n(4848);const l=({code:e,language:o})=>(0,s.jsx)(a.A,{children:()=>{const t=n(8848);n(2342),n(5723),n(9587),n(7022),n(2514),n(83);const r=t.highlight(e,t.languages[o]||t.languages.text,o);return(0,s.jsx)("code",{className:`language-${o}`,dangerouslySetInnerHTML:{__html:r}})}});function c({title:e,description:o,code:n,language:a="python",copyable:c=!0,expandable:d=!0,maxHeight:m="400px"}){const[p,u]=(0,t.useState)(!1),[h,_]=(0,t.useState)(!1),g=d&&!p&&n.split("\n").length>15?n.split("\n").slice(0,15).join("\n")+"\n// ... (click to expand)":n;return(0,s.jsxs)("div",{className:i.container,children:[(0,s.jsxs)("div",{className:i.header,children:[(0,s.jsx)("h3",{children:e}),c&&(0,s.jsx)("button",{className:(0,r.A)(i.copyButton,h&&i.copied),onClick:()=>{navigator.clipboard.writeText(n).then(()=>{_(!0),setTimeout(()=>_(!1),2e3)})},title:"Copy to clipboard",children:h?"\u2713 Copied!":"Copy"})]}),(0,s.jsx)("div",{className:i.descriptionContainer,children:(0,s.jsx)("p",{children:o})}),(0,s.jsxs)("div",{className:i.codeContainer,children:[(0,s.jsx)("pre",{className:(0,r.A)("prism-code",i.codeBlock),style:{maxHeight:p?"none":m},children:(0,s.jsx)(l,{code:g,language:a})}),d&&n.split("\n").length>15&&(0,s.jsxs)("button",{className:i.expandButton,onClick:()=>u(!p),children:[p?"Collapse":"Expand"," Code"]})]})]})}},8241:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>m,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"book/control-systems","title":"Control Systems","description":"Understanding control systems for humanoid robotics","source":"@site/docs/book/control-systems.mdx","sourceDirName":"book","slug":"/book/control-systems","permalink":"/physical-ai-robotics-textbook/docs/book/control-systems","draft":false,"unlisted":false,"editUrl":"https://github.com/HassaanGhayas/physical-ai-robotics-textbook/tree/main/docs/book/control-systems.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Control Systems","sidebar_position":4,"description":"Understanding control systems for humanoid robotics"},"sidebar":"bookSidebar","previous":{"title":"URDF for Humanoids","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/urdf-for-humanoids"},"next":{"title":"The Digital Twin (Gazebo & Unity)","permalink":"/physical-ai-robotics-textbook/docs/book/digital-twin/"}}');var r=n(4848),i=n(8453),a=n(9070),s=n(3595),l=n(3144);const c={title:"Control Systems",sidebar_position:4,description:"Understanding control systems for humanoid robotics"},d="Control Systems",m={},p=[{value:"Hardware for Control Systems",id:"hardware-for-control-systems",level:2},{value:"PID Controllers for Joint Control",id:"pid-controllers-for-joint-control",level:2},{value:"Control Architecture",id:"control-architecture",level:2},{value:"Walking Pattern Generation",id:"walking-pattern-generation",level:2},{value:"Zero Moment Point (ZMP) Control",id:"zero-moment-point-zmp-control",level:3},{value:"Model Predictive Control (MPC)",id:"model-predictive-control-mpc",level:3}];function u(e){const o={h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"control-systems",children:"Control Systems"})}),"\n",(0,r.jsx)(o.p,{children:"Humanoid robotics control systems are complex multi-layered architectures that manage everything from low-level motor control to high-level task planning. This module explores the different control layers and their implementations."}),"\n",(0,r.jsx)(o.h2,{id:"hardware-for-control-systems",children:"Hardware for Control Systems"}),"\n",(0,r.jsx)(a.A,{name:"Real-time Control Hardware",category:"Motion Control Systems",specs:{controller:"Beckhoff CX9020 or equivalent",cpu:"ARM Cortex-A9 1GHz",io:"Multiple digital and analog I/O ports",communication:"EtherCAT, CAN, Ethernet",rtos:"TwinCAT 3 with real-time Linux"},cost:{price:"$2,500-$4,000",reasoning:"Hard real-time requirements for humanoid robot motion control"},pros:["Deterministic real-time performance","Multiple communication protocols","High I/O density","Industrial reliability"],cons:["High cost","Steep learning curve","Requires specialized software (TwinCAT)","Limited processing power compared to general-purpose computers"]}),"\n",(0,r.jsx)(o.h2,{id:"pid-controllers-for-joint-control",children:"PID Controllers for Joint Control"}),"\n",(0,r.jsx)(o.p,{children:"Proportional-Integral-Derivative (PID) controllers form the foundation of joint control in humanoid robots. These controllers ensure precise positioning and smooth motion."}),"\n",(0,r.jsx)(s.A,{title:"Advanced PID Controller for Joint Control",description:"Implementation of a PID controller with feedforward compensation for humanoid robot joints",language:"cpp",code:"#include <iostream>\n#include <vector>\n#include <cmath>\n\nclass JointController {\nprivate:\n  double kp_, ki_, kd_;\n  double integral_, previous_error_;\n  double feedforward_gain_;\n  double max_integral_, min_integral_;\n  double max_output_, min_output_;\n\npublic:\n  JointController(double kp, double ki, double kd,\n                 double feedforward_gain = 0.0)\n      : kp_(kp), ki_(ki), kd_(kd), feedforward_gain_(feedforward_gain),\n        integral_(0.0), previous_error_(0.0),\n        max_integral_(10.0), min_integral_(-10.0),\n        max_output_(10.0), min_output_(-10.0) {}\n\n  double update(double target_position, double current_position,\n                double target_velocity, double current_velocity,\n                double dt) {\n      double position_error = target_position - current_position;\n      double velocity_error = target_velocity - current_velocity;\n\n      // Proportional term\n      double p_term = kp_ * position_error;\n\n      // Integral term with anti-windup\n      integral_ += position_error * dt;\n      integral_ = std::clamp(integral_, min_integral_, max_integral_);\n      double i_term = ki_ * integral_;\n\n      // Derivative term (on measurement, not error, to avoid derivative kick)\n      double d_term = kd_ * (-current_velocity);\n\n      // Feedforward term\n      double ff_term = feedforward_gain_ * target_velocity;\n\n      // Calculate output\n      double output = p_term + i_term + d_term + ff_term;\n      output = std::clamp(output, min_output_, max_output_);\n\n      previous_error_ = position_error;\n\n      return output;\n  }\n\n  void reset() {\n      integral_ = 0.0;\n      previous_error_ = 0.0;\n  }\n\n  void setGains(double kp, double ki, double kd) {\n      kp_ = kp;\n      ki_ = ki;\n      kd_ = kd;\n  }\n};\n\n// Example usage in a humanoid robot controller\nclass HumanoidController {\nprivate:\n  std::vector<JointController> joint_controllers_;\n\npublic:\n  HumanoidController() {\n      // Initialize controllers for each joint\n      // Example: left leg joints\n      joint_controllers_.emplace_back(100.0, 0.1, 5.0); // hip\n      joint_controllers_.emplace_back(80.0, 0.05, 3.0); // knee\n      joint_controllers_.emplace_back(60.0, 0.02, 2.0); // ankle\n\n      // Add more joints as needed\n  }\n\n  std::vector<double> computeTorques(\n      const std::vector<double>& target_positions,\n      const std::vector<double>& current_positions,\n      const std::vector<double>& target_velocities,\n      const std::vector<double>& current_velocities,\n      double dt) {\n\n      std::vector<double> torques;\n      for (size_t i = 0; i < joint_controllers_.size(); ++i) {\n          double torque = joint_controllers_[i].update(\n              target_positions[i], current_positions[i],\n              target_velocities[i], current_velocities[i], dt);\n          torques.push_back(torque);\n      }\n      return torques;\n  }\n};",copyable:!0,expandable:!0,maxHeight:"400px"}),"\n",(0,r.jsx)(o.h2,{id:"control-architecture",children:"Control Architecture"}),"\n",(0,r.jsx)(l.A,{title:"Hierarchical Control Architecture",description:"Three-level control architecture for humanoid robots: high-level planning, mid-level gait control, and low-level joint control",imageUrl:"/img/control-architecture.png",caption:"Hierarchical control system showing the relationship between different control levels",altText:"Hierarchical control architecture diagram",interactive:!0,zoomable:!0}),"\n",(0,r.jsx)(o.h2,{id:"walking-pattern-generation",children:"Walking Pattern Generation"}),"\n",(0,r.jsx)(o.p,{children:"Generating stable walking patterns for humanoid robots requires sophisticated algorithms that consider balance, dynamics, and environmental constraints."}),"\n",(0,r.jsx)(o.h3,{id:"zero-moment-point-zmp-control",children:"Zero Moment Point (ZMP) Control"}),"\n",(0,r.jsx)(o.p,{children:"The Zero Moment Point is a critical concept in humanoid robotics that helps maintain balance during walking. The ZMP must remain within the support polygon defined by the feet to maintain stability."}),"\n",(0,r.jsx)(o.h3,{id:"model-predictive-control-mpc",children:"Model Predictive Control (MPC)"}),"\n",(0,r.jsx)(o.p,{children:"Model Predictive Control is an advanced technique that uses a model of the robot's dynamics to predict future states and optimize control actions over a finite time horizon."})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},9070:(e,o,n)=>{n.d(o,{A:()=>i});n(6540);const t={container:"container_FJ16",grid:"grid_X6uy",card:"card_bm8r",header:"header_AfO1",name:"name_oR6z",category:"category_flKk",specRow:"specRow_X0B5",specCol:"specCol_I59m",costRow:"costRow_lHkh",reasoningRow:"reasoningRow_OGV9",proConRow:"proConRow_JHJl",proConCol:"proConCol_a1DK"};var r=n(4848);function i({name:e,category:o,specs:n,cost:i,pros:a,cons:s}){return(0,r.jsx)("div",{className:t.container,children:(0,r.jsxs)("div",{className:t.card,children:[(0,r.jsxs)("div",{className:t.header,children:[(0,r.jsx)("h3",{className:t.name,children:e}),(0,r.jsx)("span",{className:t.category,children:o})]}),(0,r.jsx)("div",{className:t.specSection,children:Object.entries(n).map(([e,o])=>o&&(0,r.jsx)("div",{className:t.specRow,children:(0,r.jsxs)("div",{className:t.specCol,children:[(0,r.jsx)("h4",{children:e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1")}),(0,r.jsx)("p",{children:o})]})},e))}),(0,r.jsxs)("div",{className:t.costRow,children:[(0,r.jsx)("h4",{children:"Estimated Cost"}),(0,r.jsx)("p",{children:i.price})]}),(0,r.jsxs)("div",{className:t.reasoningRow,children:[(0,r.jsx)("h4",{children:"Reasoning"}),(0,r.jsx)("p",{children:i.reasoning})]}),(0,r.jsxs)("div",{className:t.proConRow,children:[(0,r.jsxs)("div",{className:t.proConCol,children:[(0,r.jsx)("h4",{children:"Pros"}),(0,r.jsx)("ul",{children:a.map((e,o)=>(0,r.jsx)("li",{children:e},o))})]}),(0,r.jsxs)("div",{className:t.proConCol,children:[(0,r.jsx)("h4",{children:"Cons"}),(0,r.jsx)("ul",{children:s.map((e,o)=>(0,r.jsx)("li",{children:e},o))})]})]})]})})}}}]);