"use strict";(globalThis.webpackChunkmy_web=globalThis.webpackChunkmy_web||[]).push([[1446],{8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>a});var o=n(6540);const r={},s=o.createContext(r);function l(e){const i=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(s.Provider,{value:i},e.children)}},8455:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"book/robotic-nervous-system/urdf-for-humanoids","title":"URDF for Humanoids","description":"Understanding URDF for describing humanoid robot geometry and kinematics","source":"@site/docs/book/robotic-nervous-system/urdf-for-humanoids.md","sourceDirName":"book/robotic-nervous-system","slug":"/book/robotic-nervous-system/urdf-for-humanoids","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/urdf-for-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/HassaanGhayas/physical-ai-robotics-textbook/tree/main/docs/book/robotic-nervous-system/urdf-for-humanoids.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"URDF for Humanoids","sidebar_position":4,"description":"Understanding URDF for describing humanoid robot geometry and kinematics"},"sidebar":"bookSidebar","previous":{"title":"Bridging Python Agents to ROS Controllers","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/bridging-python-agents"},"next":{"title":"Control Systems","permalink":"/physical-ai-robotics-textbook/docs/book/control-systems"}}');var r=n(4848),s=n(8453);const l={title:"URDF for Humanoids",sidebar_position:4,description:"Understanding URDF for describing humanoid robot geometry and kinematics"},a="URDF (Unified Robot Description Format) for Humanoids",t={},d=[{value:"Overview",id:"overview",level:2},{value:"URDF Components for Humanoids",id:"urdf-components-for-humanoids",level:2},{value:"Links",id:"links",level:3},{value:"Joints",id:"joints",level:3},{value:"Humanoid-Specific Considerations",id:"humanoid-specific-considerations",level:2},{value:"1. Kinematic Chains",id:"1-kinematic-chains",level:3},{value:"2. Balance and Stability",id:"2-balance-and-stability",level:3},{value:"3. Degrees of Freedom",id:"3-degrees-of-freedom",level:3},{value:"URDF Best Practices for Humanoids",id:"urdf-best-practices-for-humanoids",level:2},{value:"1. Hierarchical Structure",id:"1-hierarchical-structure",level:3},{value:"2. Materials and Colors",id:"2-materials-and-colors",level:3},{value:"3. Collision Meshes",id:"3-collision-meshes",level:3},{value:"Example: Simplified Humanoid URDF",id:"example-simplified-humanoid-urdf",level:2},{value:"Working with URDF in ROS",id:"working-with-urdf-in-ros",level:2},{value:"Loading URDF",id:"loading-urdf",level:3},{value:"URDF Validation",id:"urdf-validation",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"1. Kinematic Loops",id:"1-kinematic-loops",level:3},{value:"2. Inertial Properties",id:"2-inertial-properties",level:3},{value:"3. Joint Limits",id:"3-joint-limits",level:3}];function c(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"urdf-unified-robot-description-format-for-humanoids",children:"URDF (Unified Robot Description Format) for Humanoids"})}),"\n",(0,r.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(i.p,{children:"URDF (Unified Robot Description Format) is an XML-based format used to describe robot models in ROS. For humanoid robots, URDF becomes particularly complex due to the articulated nature and multiple degrees of freedom."}),"\n",(0,r.jsx)(i.h2,{id:"urdf-components-for-humanoids",children:"URDF Components for Humanoids"}),"\n",(0,r.jsx)(i.h3,{id:"links",children:"Links"}),"\n",(0,r.jsx)(i.p,{children:"Represent rigid bodies of the robot:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<link name="torso">\n  <visual>\n    <geometry>\n      <capsule length="0.4" radius="0.1"/>\n    </geometry>\n    <material name="gray">\n      <color rgba="0.5 0.5 0.5 1.0"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <capsule length="0.4" radius="0.1"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="5.0"/>\n    <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\n  </inertial>\n</link>\n'})}),"\n",(0,r.jsx)(i.h3,{id:"joints",children:"Joints"}),"\n",(0,r.jsx)(i.p,{children:"Define how links connect and move relative to each other:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<joint name="torso_head_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="head"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-0.5" upper="0.5" effort="100" velocity="1.0"/>\n  <origin xyz="0 0 0.4" rpy="0 0 0"/>\n</joint>\n'})}),"\n",(0,r.jsx)(i.h2,{id:"humanoid-specific-considerations",children:"Humanoid-Specific Considerations"}),"\n",(0,r.jsx)(i.h3,{id:"1-kinematic-chains",children:"1. Kinematic Chains"}),"\n",(0,r.jsx)(i.p,{children:"Humanoids have complex kinematic chains:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Left arm: torso \u2192 shoulder \u2192 elbow \u2192 wrist \u2192 hand"}),"\n",(0,r.jsx)(i.li,{children:"Right arm: torso \u2192 shoulder \u2192 elbow \u2192 wrist \u2192 hand"}),"\n",(0,r.jsx)(i.li,{children:"Left leg: torso \u2192 hip \u2192 knee \u2192 ankle \u2192 foot"}),"\n",(0,r.jsx)(i.li,{children:"Right leg: torso \u2192 hip \u2192 knee \u2192 ankle \u2192 foot"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"2-balance-and-stability",children:"2. Balance and Stability"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Center of Mass (CoM) calculation is critical"}),"\n",(0,r.jsx)(i.li,{children:"Support polygon considerations for bipedal locomotion"}),"\n",(0,r.jsx)(i.li,{children:"Inertial properties must be accurate for stable control"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"3-degrees-of-freedom",children:"3. Degrees of Freedom"}),"\n",(0,r.jsx)(i.p,{children:"Humanoids typically have 30+ degrees of freedom:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"6 DOF per leg (hip: 3DOF, knee: 1DOF, ankle: 2DOF)"}),"\n",(0,r.jsx)(i.li,{children:"6 DOF per arm (shoulder: 3DOF, elbow: 1DOF, wrist: 2DOF)"}),"\n",(0,r.jsx)(i.li,{children:"3 DOF for torso (waist)"}),"\n",(0,r.jsx)(i.li,{children:"3 DOF for head (neck)"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"urdf-best-practices-for-humanoids",children:"URDF Best Practices for Humanoids"}),"\n",(0,r.jsx)(i.h3,{id:"1-hierarchical-structure",children:"1. Hierarchical Structure"}),"\n",(0,r.jsx)(i.p,{children:"Organize URDF files in a hierarchy:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Base file includes all limbs"}),"\n",(0,r.jsx)(i.li,{children:"Separate files for each limb"}),"\n",(0,r.jsx)(i.li,{children:"Common parts in shared files"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"2-materials-and-colors",children:"2. Materials and Colors"}),"\n",(0,r.jsx)(i.p,{children:"Use consistent materials for visual clarity:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<material name="skin">\n  <color rgba="0.9 0.8 0.7 1.0"/>\n</material>\n<material name="metal">\n  <color rgba="0.5 0.5 0.5 1.0"/>\n</material>\n'})}),"\n",(0,r.jsx)(i.h3,{id:"3-collision-meshes",children:"3. Collision Meshes"}),"\n",(0,r.jsx)(i.p,{children:"Use simplified collision meshes for performance:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Convex hulls instead of detailed meshes"}),"\n",(0,r.jsx)(i.li,{children:"Capsules and cylinders instead of complex geometries"}),"\n",(0,r.jsx)(i.li,{children:"Separate visual and collision models"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"example-simplified-humanoid-urdf",children:"Example: Simplified Humanoid URDF"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n  \x3c!-- Torso --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <capsule length="0.4" radius="0.1"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1.0"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <capsule length="0.4" radius="0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="10.0"/>\n      <inertia ixx="0.2" ixy="0" ixz="0" iyy="0.3" iyz="0" izz="0.2"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.008" ixy="0" ixz="0" iyy="0.008" iyz="0" izz="0.008"/>\n    </inertial>\n  </link>\n\n  <joint name="torso_head_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="100" velocity="1.0"/>\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Similar definitions for arms and legs --\x3e\n</robot>\n'})}),"\n",(0,r.jsx)(i.h2,{id:"working-with-urdf-in-ros",children:"Working with URDF in ROS"}),"\n",(0,r.jsx)(i.h3,{id:"loading-urdf",children:"Loading URDF"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-python",children:"import xacro\nimport os\nfrom ament_index_python.packages import get_package_share_directory\n\ndef load_urdf():\n    urdf_file = os.path.join(\n        get_package_share_directory('humanoid_description'),\n        'urdf',\n        'humanoid.urdf.xacro'\n    )\n    doc = xacro.parse(open(urdf_file))\n    xacro.process_doc(doc)\n    return doc.toprettyxml(indent='  ')\n"})}),"\n",(0,r.jsx)(i.h3,{id:"urdf-validation",children:"URDF Validation"}),"\n",(0,r.jsx)(i.p,{children:"Always validate your URDF:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Use ",(0,r.jsx)(i.code,{children:"check_urdf"})," command"]}),"\n",(0,r.jsx)(i.li,{children:"Visualize in RViz"}),"\n",(0,r.jsx)(i.li,{children:"Test with Gazebo simulation"}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,r.jsx)(i.h3,{id:"1-kinematic-loops",children:"1. Kinematic Loops"}),"\n",(0,r.jsxs)(i.p,{children:["Humanoids with closed chains (e.g., holding an object with both hands) require special handling with ",(0,r.jsx)(i.code,{children:"transmission"})," elements."]}),"\n",(0,r.jsx)(i.h3,{id:"2-inertial-properties",children:"2. Inertial Properties"}),"\n",(0,r.jsx)(i.p,{children:"Incorrect inertial properties can cause simulation instability. Use CAD tools to calculate accurate values."}),"\n",(0,r.jsx)(i.h3,{id:"3-joint-limits",children:"3. Joint Limits"}),"\n",(0,r.jsx)(i.p,{children:"Proper joint limits prevent unrealistic poses and potential damage to physical robots."})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);