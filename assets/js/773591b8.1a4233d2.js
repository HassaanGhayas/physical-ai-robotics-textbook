"use strict";(globalThis.webpackChunkmy_web=globalThis.webpackChunkmy_web||[]).push([[1841],{3144:(e,n,o)=>{o.d(n,{A:()=>a});var t=o(6540),i=o(4164);const r={container:"container_z7Qk",zoomable:"zoomable_TB6z",diagramHeader:"diagramHeader_FC95",diagramContent:"diagramContent_h5OI",imageContainer:"imageContainer_RBbf",diagramImage:"diagramImage_OB55",zoomedImage:"zoomedImage_yhOg",overlayControls:"overlayControls_ErKh",zoomButton:"zoomButton_u2xG",captionContainer:"captionContainer_m2Qi",description:"description_Djwr",caption:"caption_m0wT"};var s=o(4848);function a({title:e,description:n,imageUrl:o,caption:a,altText:l,interactive:c=!0,zoomable:d=!0}){const[m,p]=(0,t.useState)(!1);return(0,s.jsxs)("div",{className:(0,i.A)(r.container,d&&r.zoomable),children:[(0,s.jsx)("div",{className:r.diagramHeader,children:(0,s.jsx)("h3",{children:e})}),(0,s.jsxs)("div",{className:r.diagramContent,children:[(0,s.jsxs)("div",{className:r.imageContainer,children:[(0,s.jsx)("img",{src:o,alt:l,className:(0,i.A)(r.diagramImage,m&&r.zoomedImage),onClick:()=>d&&p(!m)}),c&&(0,s.jsx)("div",{className:r.overlayControls,children:(0,s.jsx)("button",{className:r.zoomButton,onClick:e=>{e.stopPropagation(),p(!m)},children:m?"Shrink":"Zoom"})})]}),(0,s.jsxs)("div",{className:r.captionContainer,children:[(0,s.jsx)("p",{className:r.description,children:n}),(0,s.jsx)("p",{className:r.caption,children:(0,s.jsx)("em",{children:a})})]})]})]})}},3595:(e,n,o)=>{o.d(n,{A:()=>c});var t=o(6540),i=o(4164);const r={container:"container_dy5C",header:"header_aSVe",descriptionContainer:"descriptionContainer_W0RN",codeContainer:"codeContainer_QjCA",codeBlock:"codeBlock_GUC4",copyButton:"copyButton_pfMd",copied:"copied_Qlog",expandButton:"expandButton_KpLd"};var s=o(8478),a=o(4848);const l=({code:e,language:n})=>(0,a.jsx)(s.A,{children:()=>{const t=o(8848);o(2342),o(5723),o(9587),o(7022),o(2514),o(83);const i=t.highlight(e,t.languages[n]||t.languages.text,n);return(0,a.jsx)("code",{className:`language-${n}`,dangerouslySetInnerHTML:{__html:i}})}});function c({title:e,description:n,code:o,language:s="python",copyable:c=!0,expandable:d=!0,maxHeight:m="400px"}){const[p,h]=(0,t.useState)(!1),[u,g]=(0,t.useState)(!1),f=d&&!p&&o.split("\n").length>15?o.split("\n").slice(0,15).join("\n")+"\n// ... (click to expand)":o;return(0,a.jsxs)("div",{className:r.container,children:[(0,a.jsxs)("div",{className:r.header,children:[(0,a.jsx)("h3",{children:e}),c&&(0,a.jsx)("button",{className:(0,i.A)(r.copyButton,u&&r.copied),onClick:()=>{navigator.clipboard.writeText(o).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)})},title:"Copy to clipboard",children:u?"\u2713 Copied!":"Copy"})]}),(0,a.jsx)("div",{className:r.descriptionContainer,children:(0,a.jsx)("p",{children:n})}),(0,a.jsxs)("div",{className:r.codeContainer,children:[(0,a.jsx)("pre",{className:(0,i.A)("prism-code",r.codeBlock),style:{maxHeight:p?"none":m},children:(0,a.jsx)(l,{code:f,language:s})}),d&&o.split("\n").length>15&&(0,a.jsxs)("button",{className:r.expandButton,onClick:()=>h(!p),children:[p?"Collapse":"Expand"," Code"]})]})]})}},4415:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>m,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"book/robotic-nervous-system/index","title":"The Robotic Nervous System (ROS 2)","description":"Middleware for robot control using ROS 2","source":"@site/docs/book/robotic-nervous-system/index.mdx","sourceDirName":"book/robotic-nervous-system","slug":"/book/robotic-nervous-system/","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/","draft":false,"unlisted":false,"editUrl":"https://github.com/HassaanGhayas/physical-ai-robotics-textbook/tree/main/docs/book/robotic-nervous-system/index.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"The Robotic Nervous System (ROS 2)","sidebar_position":3,"description":"Middleware for robot control using ROS 2"},"sidebar":"bookSidebar","previous":{"title":"Introduction","permalink":"/physical-ai-robotics-textbook/docs/book/introduction"},"next":{"title":"ROS 2 Nodes, Topics, and Services","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/ros2-nodes-topics-services"}}');var i=o(4848),r=o(8453),s=o(9070),a=o(3595),l=o(3144);const c={title:"The Robotic Nervous System (ROS 2)",sidebar_position:3,description:"Middleware for robot control using ROS 2"},d="The Robotic Nervous System (ROS 2)",m={},p=[{value:"Overview",id:"overview",level:2},{value:"Key Components",id:"key-components",level:2},{value:"ROS 2 Nodes, Topics, and Services",id:"ros-2-nodes-topics-and-services",level:3},{value:"Bridging Python Agents to ROS Controllers using rclpy",id:"bridging-python-agents-to-ros-controllers-using-rclpy",level:3},{value:"Understanding URDF (Unified Robot Description Format) for Humanoids",id:"understanding-urdf-unified-robot-description-format-for-humanoids",level:3},{value:"Module Objectives",id:"module-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Learning Path",id:"learning-path",level:2},{value:"Hardware Requirements for ROS 2 Systems",id:"hardware-requirements-for-ros-2-systems",level:2},{value:"Sample ROS 2 Implementation",id:"sample-ros-2-implementation",level:2},{value:"ROS 2 Architecture Diagram",id:"ros-2-architecture-diagram",level:2}];function h(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"the-robotic-nervous-system-ros-2",children:"The Robotic Nervous System (ROS 2)"})}),"\n",(0,i.jsx)(n.p,{children:"Focus: Middleware for robot control."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:'ROS 2 (Robot Operating System 2) serves as the "nervous system" of robotic platforms. It provides the communication framework that allows different components of a robot to work together seamlessly. This module covers the essential concepts and implementation of ROS 2 for controlling humanoid robots.'}),"\n",(0,i.jsx)(n.h2,{id:"key-components",children:"Key Components"}),"\n",(0,i.jsx)(n.h3,{id:"ros-2-nodes-topics-and-services",children:"ROS 2 Nodes, Topics, and Services"}),"\n",(0,i.jsx)(n.p,{children:"The fundamental building blocks of ROS 2 communication:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes"}),": Individual processes that perform computation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topics"}),": Unidirectional data streams for publishing/subscribing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services"}),": Bidirectional request/response communication"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"bridging-python-agents-to-ros-controllers-using-rclpy",children:"Bridging Python Agents to ROS Controllers using rclpy"}),"\n",(0,i.jsx)(n.p,{children:"Connecting AI agents to robot control systems through ROS 2's Python client library."}),"\n",(0,i.jsx)(n.h3,{id:"understanding-urdf-unified-robot-description-format-for-humanoids",children:"Understanding URDF (Unified Robot Description Format) for Humanoids"}),"\n",(0,i.jsx)(n.p,{children:"URDF is crucial for describing robot geometry, kinematics, and dynamics, especially for complex humanoid robots."}),"\n",(0,i.jsx)(n.h2,{id:"module-objectives",children:"Module Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this module, you will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Understand the architecture and communication patterns of ROS 2"}),"\n",(0,i.jsx)(n.li,{children:"Implement nodes that can communicate via topics and services"}),"\n",(0,i.jsx)(n.li,{children:"Create bridges between Python-based AI agents and ROS controllers"}),"\n",(0,i.jsx)(n.li,{children:"Design and work with URDF files for humanoid robots"}),"\n",(0,i.jsx)(n.li,{children:"Develop basic control systems for robot actuators"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Basic Python programming skills"}),"\n",(0,i.jsx)(n.li,{children:"Understanding of object-oriented programming concepts"}),"\n",(0,i.jsx)(n.li,{children:"Fundamental knowledge of robotics concepts (optional but helpful)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"learning-path",children:"Learning Path"}),"\n",(0,i.jsx)(n.p,{children:"This module builds the foundation for all subsequent modules, as ROS 2 serves as the backbone for communication between perception, planning, and actuation systems in our humanoid robotics applications."}),"\n",(0,i.jsx)(n.h2,{id:"hardware-requirements-for-ros-2-systems",children:"Hardware Requirements for ROS 2 Systems"}),"\n",(0,i.jsx)(s.A,{name:"ROS 2 Development Platform",category:"Robotics Middleware",specs:{cpu:"4+ core processor (Intel i5 or AMD Ryzen 5+)",memory:"8GB+ RAM (16GB recommended)",storage:"50GB+ available space",network:"Gigabit Ethernet, WiFi 802.11n+",os:"Ubuntu 22.04 LTS, Windows 10/11, macOS 12+"},cost:{price:"Varies (existing hardware often sufficient)",reasoning:"ROS 2 can run on standard development machines but benefits from more powerful hardware for simulation"},pros:["Can run on existing development machines","Lightweight for basic operations","Cross-platform compatibility","Large community and package ecosystem"],cons:["Performance limited by hardware for complex simulations","Real-time performance requires special configurations","Network setup can be complex in multi-robot systems"]}),"\n",(0,i.jsx)(n.h2,{id:"sample-ros-2-implementation",children:"Sample ROS 2 Implementation"}),"\n",(0,i.jsx)(a.A,{title:"ROS 2 Action Client for Humanoid Robot",description:"Implementation of a ROS 2 action client for controlling humanoid robot movements",language:"python",code:"import rclpy\nfrom rclpy.action import ActionClient\nfrom rclpy.node import Node\nfrom control_msgs.action import FollowJointTrajectory\nfrom trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint\nfrom builtin_interfaces.msg import Duration\nimport time\n\nclass HumanoidController(Node):\n  def __init__(self):\n      super().__init__('humanoid_controller')\n\n      # Create action client for trajectory execution\n      self._action_client = ActionClient(\n          self,\n          FollowJointTrajectory,\n          'joint_trajectory_controller/follow_joint_trajectory'\n      )\n\n      # Define joint names for humanoid robot\n      self.joint_names = [\n          'left_hip_joint', 'left_knee_joint', 'left_ankle_joint',\n          'right_hip_joint', 'right_knee_joint', 'right_ankle_joint',\n          'left_shoulder_joint', 'left_elbow_joint',\n          'right_shoulder_joint', 'right_elbow_joint',\n          'head_pan_joint', 'head_tilt_joint'\n      ]\n\n      self.get_logger().info('Humanoid Controller initialized')\n\n  def send_trajectory_goal(self, positions, durations):\n      \"\"\"Send a trajectory goal to the robot\"\"\"\n      # Wait for action server\n      self._action_client.wait_for_server()\n\n      # Create goal message\n      goal_msg = FollowJointTrajectory.Goal()\n      goal_msg.trajectory = JointTrajectory()\n      goal_msg.trajectory.joint_names = self.joint_names\n\n      # Add trajectory points\n      for i, pos in enumerate(positions):\n          point = JointTrajectoryPoint()\n          point.positions = pos\n          point.time_from_start = Duration(sec=durations[i])\n          goal_msg.trajectory.points.append(point)\n\n      # Send goal\n      self._send_goal_future = self._action_client.send_goal_async(\n          goal_msg,\n          feedback_callback=self.feedback_callback\n      )\n\n      self._send_goal_future.add_done_callback(self.goal_response_callback)\n\n  def goal_response_callback(self, future):\n      \"\"\"Handle goal response\"\"\"\n      goal_handle = future.result()\n      if not goal_handle.accepted:\n          self.get_logger().info('Goal rejected')\n          return\n\n      self.get_logger().info('Goal accepted')\n      self._get_result_future = goal_handle.get_result_async()\n      self._get_result_future.add_done_callback(self.get_result_callback)\n\n  def get_result_callback(self, future):\n      \"\"\"Handle result of trajectory execution\"\"\"\n      result = future.result().result\n      self.get_logger().info(f'Result: {result}')\n\n  def feedback_callback(self, feedback_msg):\n      \"\"\"Handle feedback during trajectory execution\"\"\"\n      feedback = feedback_msg.feedback\n      self.get_logger().info(f'Feedback: {feedback}')\n\n  def create_walk_trajectory(self):\n      \"\"\"Create a simple walking trajectory\"\"\"\n      # Define key poses for walking gait\n      stance_poses = [\n          [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],  # Initial stance\n          [0.1, -0.2, 0.1, -0.1, 0.2, -0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],  # Step forward left\n          [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],  # Return to stance\n      ]\n\n      # Define timing for each pose (in seconds)\n      durations = [1, 2, 3]  # 1s to first pose, 2s to second, 3s to return\n\n      return stance_poses, durations\n\ndef main(args=None):\n  rclpy.init(args=args)\n\n  controller = HumanoidController()\n\n  # Create and send a walking trajectory\n  positions, durations = controller.create_walk_trajectory()\n  controller.send_trajectory_goal(positions, durations)\n\n  try:\n      rclpy.spin(controller)\n  except KeyboardInterrupt:\n      pass\n  finally:\n      controller.destroy_node()\n      rclpy.shutdown()\n\nif __name__ == '__main__':\n  main()",copyable:!0,expandable:!0,maxHeight:"400px"}),"\n",(0,i.jsx)(n.h2,{id:"ros-2-architecture-diagram",children:"ROS 2 Architecture Diagram"}),"\n",(0,i.jsx)(l.A,{title:"ROS 2 Middleware Architecture",description:"Architecture diagram showing the communication between different ROS 2 nodes in a humanoid robot system",imageUrl:"/img/ros2-architecture.png",caption:"ROS 2 architecture showing nodes, topics, services, and actions in a humanoid robot control system",altText:"ROS 2 architecture diagram for humanoid robot",interactive:!0,zoomable:!0})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9070:(e,n,o)=>{o.d(n,{A:()=>r});o(6540);const t={container:"container_FJ16",grid:"grid_X6uy",card:"card_bm8r",header:"header_AfO1",name:"name_oR6z",category:"category_flKk",specRow:"specRow_X0B5",specCol:"specCol_I59m",costRow:"costRow_lHkh",reasoningRow:"reasoningRow_OGV9",proConRow:"proConRow_JHJl",proConCol:"proConCol_a1DK"};var i=o(4848);function r({name:e,category:n,specs:o,cost:r,pros:s,cons:a}){return(0,i.jsx)("div",{className:t.container,children:(0,i.jsxs)("div",{className:t.card,children:[(0,i.jsxs)("div",{className:t.header,children:[(0,i.jsx)("h3",{className:t.name,children:e}),(0,i.jsx)("span",{className:t.category,children:n})]}),(0,i.jsx)("div",{className:t.specSection,children:Object.entries(o).map(([e,n])=>n&&(0,i.jsx)("div",{className:t.specRow,children:(0,i.jsxs)("div",{className:t.specCol,children:[(0,i.jsx)("h4",{children:e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1")}),(0,i.jsx)("p",{children:n})]})},e))}),(0,i.jsxs)("div",{className:t.costRow,children:[(0,i.jsx)("h4",{children:"Estimated Cost"}),(0,i.jsx)("p",{children:r.price})]}),(0,i.jsxs)("div",{className:t.reasoningRow,children:[(0,i.jsx)("h4",{children:"Reasoning"}),(0,i.jsx)("p",{children:r.reasoning})]}),(0,i.jsxs)("div",{className:t.proConRow,children:[(0,i.jsxs)("div",{className:t.proConCol,children:[(0,i.jsx)("h4",{children:"Pros"}),(0,i.jsx)("ul",{children:s.map((e,n)=>(0,i.jsx)("li",{children:e},n))})]}),(0,i.jsxs)("div",{className:t.proConCol,children:[(0,i.jsx)("h4",{children:"Cons"}),(0,i.jsx)("ul",{children:a.map((e,n)=>(0,i.jsx)("li",{children:e},n))})]})]})]})})}}}]);