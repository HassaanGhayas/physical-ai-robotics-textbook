"use strict";(globalThis.webpackChunkmy_web=globalThis.webpackChunkmy_web||[]).push([[927],{4269:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"book/robotic-nervous-system/ros2-nodes-topics-services","title":"ROS 2 Nodes, Topics, and Services","description":"Understanding the communication patterns in ROS 2","source":"@site/docs/book/robotic-nervous-system/ros2-nodes-topics-services.md","sourceDirName":"book/robotic-nervous-system","slug":"/book/robotic-nervous-system/ros2-nodes-topics-services","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/ros2-nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/HassaanGhayas/physical-ai-robotics-textbook/tree/main/docs/book/robotic-nervous-system/ros2-nodes-topics-services.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"ROS 2 Nodes, Topics, and Services","sidebar_position":2,"description":"Understanding the communication patterns in ROS 2"},"sidebar":"bookSidebar","previous":{"title":"The Robotic Nervous System (ROS 2)","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/"},"next":{"title":"Bridging Python Agents to ROS Controllers","permalink":"/physical-ai-robotics-textbook/docs/book/robotic-nervous-system/bridging-python-agents"}}');var o=i(4848),t=i(8453);const r={title:"ROS 2 Nodes, Topics, and Services",sidebar_position:2,description:"Understanding the communication patterns in ROS 2"},c="ROS 2 Nodes, Topics, and Services",l={},a=[{value:"Nodes",id:"nodes",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Topics",id:"topics",level:2},{value:"Example: Joint State Topic",id:"example-joint-state-topic",level:3},{value:"Services",id:"services",level:2},{value:"Example: Motion Service",id:"example-motion-service",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Best Practices for Humanoid Robotics",id:"best-practices-for-humanoid-robotics",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ros-2-nodes-topics-and-services",children:"ROS 2 Nodes, Topics, and Services"})}),"\n",(0,o.jsx)(n.h2,{id:"nodes",children:"Nodes"}),"\n",(0,o.jsx)(n.p,{children:"A node is a process that performs computation. Nodes are the fundamental building blocks of ROS 2 applications. In humanoid robotics, nodes might represent:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sensor drivers (camera, IMU, LiDAR)"}),"\n",(0,o.jsx)(n.li,{children:"Control algorithms (motion planning, trajectory generation)"}),"\n",(0,o.jsx)(n.li,{children:"Perception systems (object detection, SLAM)"}),"\n",(0,o.jsx)(n.li,{children:"Actuator interfaces (motor controllers)"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,o.jsxs)(n.p,{children:["In Python, a node is typically a class that inherits from ",(0,o.jsx)(n.code,{children:"rclpy.Node"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass HumanoidController(Node):\n    def __init__(self):\n        super().__init__('humanoid_controller')\n        # Initialize node components here\n"})}),"\n",(0,o.jsx)(n.h2,{id:"topics",children:"Topics"}),"\n",(0,o.jsx)(n.p,{children:"Topics enable unidirectional data flow between nodes using a publish/subscribe model:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Publishers send data to a topic"}),"\n",(0,o.jsx)(n.li,{children:"Subscribers receive data from a topic"}),"\n",(0,o.jsx)(n.li,{children:"Multiple publishers/subscribers can use the same topic"}),"\n",(0,o.jsx)(n.li,{children:"Communication is asynchronous"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"example-joint-state-topic",children:"Example: Joint State Topic"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from sensor_msgs.msg import JointState\n\ndef create_publisher(self):\n    self.joint_state_publisher = self.create_publisher(\n        JointState,\n        'joint_states',\n        10\n    )\n"})}),"\n",(0,o.jsx)(n.h2,{id:"services",children:"Services"}),"\n",(0,o.jsx)(n.p,{children:"Services enable bidirectional request/response communication:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A client sends a request to a service"}),"\n",(0,o.jsx)(n.li,{children:"A server processes the request and sends back a response"}),"\n",(0,o.jsx)(n.li,{children:"Communication is synchronous"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"example-motion-service",children:"Example: Motion Service"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from humanoid_robot_interfaces.srv import MoveJoint\n\ndef create_service(self):\n    self.move_joint_service = self.create_service(\n        MoveJoint,\n        'move_joint',\n        self.move_joint_callback\n    )\n"})}),"\n",(0,o.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,o.jsx)(n.p,{children:"ROS 2 provides Quality of Service profiles to control communication behavior:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Reliability: Best effort or reliable"}),"\n",(0,o.jsx)(n.li,{children:"Durability: Volatile or transient local"}),"\n",(0,o.jsx)(n.li,{children:"History: Keep last N or keep all"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"best-practices-for-humanoid-robotics",children:"Best Practices for Humanoid Robotics"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modularity"}),": Each function should be in its own node"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Efficiency"}),": Use appropriate QoS settings for real-time control"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Safety"}),": Implement timeouts and error handling"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Scalability"}),": Design for multiple robots in the same network"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(6540);const o={},t=s.createContext(o);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);