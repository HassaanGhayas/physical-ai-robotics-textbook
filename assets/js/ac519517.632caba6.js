"use strict";(globalThis.webpackChunkmy_web=globalThis.webpackChunkmy_web||[]).push([[8951],{179:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"book/assessments/ros2-package-project","title":"ROS 2 Package Project","description":"Developing a complete ROS 2 package for humanoid robot control","source":"@site/docs/book/assessments/ros2-package-project.md","sourceDirName":"book/assessments","slug":"/book/assessments/ros2-package-project","permalink":"/physical-ai-robotics-textbook/docs/book/assessments/ros2-package-project","draft":false,"unlisted":false,"editUrl":"https://github.com/HassaanGhayas/physical-ai-robotics-textbook/tree/main/docs/book/assessments/ros2-package-project.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"ROS 2 Package Project","sidebar_position":2,"description":"Developing a complete ROS 2 package for humanoid robot control"},"sidebar":"bookSidebar","previous":{"title":"Assessments","permalink":"/physical-ai-robotics-textbook/docs/book/assessments/"},"next":{"title":"Gazebo Implementation Project","permalink":"/physical-ai-robotics-textbook/docs/book/assessments/gazebo-implementation"}}');var o=s(4848),a=s(8453);const r={title:"ROS 2 Package Project",sidebar_position:2,description:"Developing a complete ROS 2 package for humanoid robot control"},i="ROS 2 Package Development Project",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Project Requirements",id:"project-requirements",level:2},{value:"Core Requirements",id:"core-requirements",level:3},{value:"Humanoid-Specific Requirements",id:"humanoid-specific-requirements",level:3},{value:"Package Structure",id:"package-structure",level:2},{value:"Recommended Directory Structure",id:"recommended-directory-structure",level:3},{value:"Package.xml Configuration",id:"packagexml-configuration",level:3},{value:"Node Implementation",id:"node-implementation",level:2},{value:"1. Humanoid Controller Node",id:"1-humanoid-controller-node",level:3},{value:"2. Sensor Processor Node",id:"2-sensor-processor-node",level:3},{value:"3. Safety Monitor Node",id:"3-safety-monitor-node",level:3},{value:"Launch Files",id:"launch-files",level:2},{value:"Main Launch File",id:"main-launch-file",level:3},{value:"Testing Framework",id:"testing-framework",level:2},{value:"Unit Tests",id:"unit-tests",level:3},{value:"Documentation",id:"documentation",level:2},{value:"User Guide",id:"user-guide",level:3},{value:"Tutorials",id:"tutorials",level:3},{value:"Build System Configuration",id:"build-system-configuration",level:2},{value:"CMakeLists.txt (for C++ implementation)",id:"cmakeliststxt-for-c-implementation",level:3},{value:"Evaluation Criteria",id:"evaluation-criteria",level:2},{value:"Technical Requirements (70%)",id:"technical-requirements-70",level:3},{value:"Innovation and Complexity (20%)",id:"innovation-and-complexity-20",level:3},{value:"Testing and Validation (10%)",id:"testing-and-validation-10",level:3},{value:"Submission Requirements",id:"submission-requirements",level:2},{value:"Required Files",id:"required-files",level:3},{value:"Assessment Rubric",id:"assessment-rubric",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"ros-2-package-development-project",children:"ROS 2 Package Development Project"})}),"\n",(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"This project requires students to develop a complete ROS 2 package for humanoid robot control. The package should demonstrate proficiency in ROS 2 concepts, including nodes, topics, services, actions, parameters, and best practices for robotics software development."}),"\n",(0,o.jsx)(n.h2,{id:"project-requirements",children:"Project Requirements"}),"\n",(0,o.jsx)(n.h3,{id:"core-requirements",children:"Core Requirements"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Package Structure"}),": Proper ROS 2 package organization following REP-144"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Node Implementation"}),": At least 3 custom nodes with clear responsibilities"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Communication"}),": Use of topics, services, and actions appropriately"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configuration"}),": Parameter management and launch files"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Documentation"}),": Comprehensive documentation and examples"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Testing"}),": Unit tests and integration tests"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Build System"}),": Proper CMakeLists.txt (for C++) or setup.py (for Python)"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"humanoid-specific-requirements",children:"Humanoid-Specific Requirements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Humanoid Control Interface"}),": Nodes for controlling humanoid robot joints"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sensor Integration"}),": Processing of humanoid-specific sensors (IMU, joint encoders, etc.)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Safety Systems"}),": Implementation of safety checks and emergency stops"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Balance Control"}),": Basic balance control algorithms for bipedal robots"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"package-structure",children:"Package Structure"}),"\n",(0,o.jsx)(n.h3,{id:"recommended-directory-structure",children:"Recommended Directory Structure"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"humanoid_control/\n\u251c\u2500\u2500 CMakeLists.txt or pyproject.toml\n\u251c\u2500\u2500 package.xml\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 config/\n\u2502   \u251c\u2500\u2500 parameters.yaml\n\u2502   \u2514\u2500\u2500 controllers.yaml\n\u251c\u2500\u2500 launch/\n\u2502   \u251c\u2500\u2500 humanoid_control.launch.py\n\u2502   \u2514\u2500\u2500 test_nodes.launch.py\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 humanoid_controller_node.cpp/py\n\u2502   \u251c\u2500\u2500 sensor_processor_node.cpp/py\n\u2502   \u251c\u2500\u2500 safety_monitor_node.cpp/py\n\u2502   \u2514\u2500\u2500 utils/\n\u251c\u2500\u2500 include/humanoid_control/ (for C++)\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 test_controller.cpp/py\n\u2502   \u251c\u2500\u2500 test_sensor_processor.cpp/py\n\u2502   \u2514\u2500\u2500 integration_test.cpp/py\n\u251c\u2500\u2500 scripts/\n\u2514\u2500\u2500 docs/\n    \u251c\u2500\u2500 user_guide.md\n    \u251c\u2500\u2500 api_reference.md\n    \u2514\u2500\u2500 tutorials/\n"})}),"\n",(0,o.jsx)(n.h3,{id:"packagexml-configuration",children:"Package.xml Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>humanoid_control</name>\n  <version>0.1.0</version>\n  <description>ROS 2 package for humanoid robot control</description>\n  <maintainer email="student@example.com">Student Name</maintainer>\n  <license>Apache-2.0</license>\n\n  <depend>rclcpp</depend>\n  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n  <depend>sensor_msgs</depend>\n  <depend>geometry_msgs</depend>\n  <depend>control_msgs</depend>\n  <depend>trajectory_msgs</depend>\n  <depend>builtin_interfaces</depend>\n\n  <test_depend>ament_copyright</test_depend>\n  <test_depend>ament_flake8</test_depend>\n  <test_depend>ament_pep257</test_depend>\n  <test_depend>python3-pytest</test_depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>  \x3c!-- or ament_python --\x3e\n  </export>\n</package>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"node-implementation",children:"Node Implementation"}),"\n",(0,o.jsx)(n.h3,{id:"1-humanoid-controller-node",children:"1. Humanoid Controller Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy\nfrom builtin_interfaces.msg import Duration\nfrom trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint\nfrom humanoid_control_msgs.srv import BalanceControl\nfrom humanoid_control_msgs.action import WalkToPosition\nfrom rclpy.action import ActionServer, GoalResponse, CancelResponse\nfrom rclpy.callback_groups import MutuallyExclusiveCallbackGroup\nfrom threading import Lock\n\nclass HumanoidControllerNode(Node):\n    def __init__(self):\n        super().__init__(\'humanoid_controller\')\n\n        # Declare parameters\n        self.declare_parameter(\'robot_description\', \'\')\n        self.declare_parameter(\'control_frequency\', 100)\n        self.declare_parameter(\'max_joint_velocity\', 1.0)\n        self.declare_parameter(\'balance_control_enabled\', True)\n\n        # Store parameters\n        self.control_freq = self.get_parameter(\'control_frequency\').value\n        self.max_velocity = self.get_parameter(\'max_joint_velocity\').value\n        self.balance_enabled = self.get_parameter(\'balance_control_enabled\').value\n\n        # Create publishers\n        self.joint_trajectory_pub = self.create_publisher(\n            JointTrajectory,\n            \'/joint_trajectory_controller/joint_trajectory\',\n            10\n        )\n\n        # Create subscribers\n        self.joint_state_sub = self.create_subscription(\n            JointState,\n            \'/joint_states\',\n            self.joint_state_callback,\n            10\n        )\n\n        # Create service servers\n        self.balance_srv = self.create_service(\n            BalanceControl,\n            \'balance_control\',\n            self.balance_control_callback\n        )\n\n        # Create action server\n        self.walk_action_server = ActionServer(\n            self,\n            WalkToPosition,\n            \'walk_to_position\',\n            self.execute_walk_goal,\n            goal_callback=self.walk_goal_callback,\n            cancel_callback=self.walk_cancel_callback\n        )\n\n        # Internal state\n        self.current_joint_states = {}\n        self.control_lock = Lock()\n        self.trajectory_executor = TrajectoryExecutor()\n\n        # Control timer\n        self.control_timer = self.create_timer(\n            1.0/self.control_freq,\n            self.control_loop\n        )\n\n        self.get_logger().info(\'Humanoid Controller Node initialized\')\n\n    def joint_state_callback(self, msg):\n        """Process joint state messages"""\n        with self.control_lock:\n            for name, position in zip(msg.name, msg.position):\n                self.current_joint_states[name] = position\n\n    def balance_control_callback(self, request, response):\n        """Handle balance control requests"""\n        try:\n            if request.enable:\n                self.enable_balance_control()\n                response.success = True\n                response.message = "Balance control enabled"\n            else:\n                self.disable_balance_control()\n                response.success = True\n                response.message = "Balance control disabled"\n        except Exception as e:\n            response.success = False\n            response.message = f"Error: {str(e)}"\n\n        return response\n\n    def control_loop(self):\n        """Main control loop for humanoid control"""\n        with self.control_lock:\n            # Process safety checks\n            if self.should_stop():\n                self.emergency_stop()\n                return\n\n            # Update balance control if enabled\n            if self.balance_enabled:\n                self.update_balance_control()\n\n            # Process queued trajectories\n            self.trajectory_executor.process_queue()\n\n    def enable_balance_control(self):\n        """Enable balance control algorithms"""\n        self.balance_enabled = True\n        self.get_logger().info("Balance control enabled")\n\n    def disable_balance_control(self):\n        """Disable balance control algorithms"""\n        self.balance_enabled = False\n        self.get_logger().info("Balance control disabled")\n\n    def should_stop(self):\n        """Check if emergency stop conditions are met"""\n        # Implement safety checks\n        # - joint limit violations\n        # - balance threshold exceeded\n        # - external stop command\n        return False\n\n    def emergency_stop(self):\n        """Execute emergency stop procedure"""\n        self.get_logger().warn("Emergency stop activated!")\n        # Send zero velocity commands\n        # Disable motors if possible\n        # Log the event\n'})}),"\n",(0,o.jsx)(n.h3,{id:"2-sensor-processor-node",children:"2. Sensor Processor Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import Imu, JointState\nfrom geometry_msgs.msg import Vector3, Quaternion\nfrom std_msgs.msg import Float64MultiArray\nfrom humanoid_control_msgs.msg import BalanceState, JointHealth\nimport numpy as np\nfrom collections import deque\nimport tf_transformations\n\nclass SensorProcessorNode(Node):\n    def __init__(self):\n        super().__init__(\'sensor_processor\')\n\n        # Parameters\n        self.declare_parameter(\'imu_calibration_enabled\', True)\n        self.declare_parameter(\'health_check_interval\', 1.0)\n        self.declare_parameter(\'balance_threshold\', 15.0)  # degrees\n\n        # Store parameters\n        self.calibration_enabled = self.get_parameter(\'imu_calibration_enabled\').value\n        self.health_interval = self.get_parameter(\'health_check_interval\').value\n        self.balance_threshold = self.get_parameter(\'balance_threshold\').value\n\n        # Publishers\n        self.balance_pub = self.create_publisher(BalanceState, \'balance_state\', 10)\n        self.health_pub = self.create_publisher(JointHealth, \'joint_health\', 10)\n        self.com_pub = self.create_publisher(Vector3, \'center_of_mass\', 10)\n\n        # Subscribers\n        self.imu_sub = self.create_subscription(Imu, \'imu/data\', self.imu_callback, 10)\n        self.joint_sub = self.create_subscription(JointState, \'joint_states\', self.joint_callback, 10)\n\n        # Internal state\n        self.imu_data = None\n        self.joint_data = None\n        self.imu_calibration = np.zeros(3)  # bias offsets\n        self.joint_history = deque(maxlen=100)  # for velocity estimation\n\n        # Timers\n        self.processing_timer = self.create_timer(0.01, self.process_sensors)  # 100Hz\n        self.health_timer = self.create_timer(self.health_interval, self.check_health)\n\n        # Calibration\n        if self.calibration_enabled:\n            self.calibrate_imu()\n\n    def imu_callback(self, msg):\n        """Process IMU data"""\n        self.imu_data = msg\n\n    def joint_callback(self, msg):\n        """Process joint state data"""\n        self.joint_data = msg\n        # Store for history\n        self.joint_history.append({\n            \'stamp\': msg.header.stamp,\n            \'names\': msg.name,\n            \'positions\': msg.position,\n            \'velocities\': msg.velocity\n        })\n\n    def process_sensors(self):\n        """Process all sensor data and publish processed information"""\n        if self.imu_data is None or self.joint_data is None:\n            return\n\n        # Process IMU data\n        balance_state = self.compute_balance_state()\n        self.balance_pub.publish(balance_state)\n\n        # Compute center of mass\n        com = self.compute_center_of_mass()\n        self.com_pub.publish(com)\n\n    def compute_balance_state(self):\n        """Compute current balance state from IMU data"""\n        # Extract orientation\n        orientation = self.imu_data.orientation\n        euler_angles = tf_transformations.euler_from_quaternion([\n            orientation.x,\n            orientation.y,\n            orientation.z,\n            orientation.w\n        ])\n\n        # Calculate balance metrics\n        roll, pitch, yaw = euler_angles\n        balance_metric = np.sqrt(roll**2 + pitch**2) * 180.0 / np.pi  # Convert to degrees\n\n        # Create balance state message\n        balance_state = BalanceState()\n        balance_state.header.stamp = self.get_clock().now().to_msg()\n        balance_state.roll = roll\n        balance_state.pitch = pitch\n        balance_state.yaw = yaw\n        balance_state.balance_metric = balance_metric\n        balance_state.is_stable = balance_metric < self.balance_threshold\n\n        return balance_state\n\n    def compute_center_of_mass(self):\n        """Estimate center of mass based on joint positions and masses"""\n        # This is a simplified example - real implementation would use URDF\n        if not self.joint_data:\n            return Vector3(x=0.0, y=0.0, z=0.0)\n\n        # Placeholder: return estimated COM based on joint positions\n        # Real implementation would use forward kinematics and link masses\n        com = Vector3()\n        com.x = 0.0  # Placeholder\n        com.y = 0.0  # Placeholder\n        com.z = 0.8  # Approximate height for humanoid\n\n        return com\n\n    def check_health(self):\n        """Check joint health and publish status"""\n        if not self.joint_data:\n            return\n\n        health_msg = JointHealth()\n        health_msg.header.stamp = self.get_clock().now().to_msg()\n\n        for i, joint_name in enumerate(self.joint_data.name):\n            # Check position limits, temperature, etc.\n            position_ok = self.check_joint_position(joint_name, self.joint_data.position[i])\n            temp_ok = self.check_joint_temperature(joint_name)  # Placeholder\n            velocity_ok = self.check_joint_velocity(joint_name, self.joint_data.velocity[i])\n\n            joint_health = JointHealthStatus()\n            joint_health.joint_name = joint_name\n            joint_health.position_ok = position_ok\n            joint_health.temperature_ok = temp_ok\n            joint_health.velocity_ok = velocity_ok\n            joint_health.health_score = self.calculate_health_score(\n                position_ok, temp_ok, velocity_ok\n            )\n\n            health_msg.joint_statuses.append(joint_health)\n\n        self.health_pub.publish(health_msg)\n\n    def calibrate_imu(self):\n        """Calibrate IMU sensors"""\n        self.get_logger().info("Starting IMU calibration...")\n        # Collect data for calibration\n        # Calculate bias offsets\n        # Store calibration parameters\n        self.get_logger().info("IMU calibration completed")\n'})}),"\n",(0,o.jsx)(n.h3,{id:"3-safety-monitor-node",children:"3. Safety Monitor Node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport rclpy\nfrom rclpy.node import Node\nfrom rclpy.qos import QoSProfile\nfrom std_msgs.msg import Bool, String\nfrom sensor_msgs.msg import JointState\nfrom humanoid_control_msgs.msg import BalanceState, JointHealth\nfrom builtin_interfaces.msg import Time\nfrom threading import Lock\n\nclass SafetyMonitorNode(Node):\n    def __init__(self):\n        super().__init__(\'safety_monitor\')\n\n        # Parameters\n        self.declare_parameter(\'emergency_stop_enabled\', True)\n        self.declare_parameter(\'balance_threshold\', 20.0)\n        self.declare_parameter(\'temperature_threshold\', 75.0)\n        self.declare_parameter(\'position_tolerance\', 0.1)\n\n        # Store parameters\n        self.emergency_enabled = self.get_parameter(\'emergency_stop_enabled\').value\n        self.balance_thresh = self.get_parameter(\'balance_threshold\').value\n        self.temp_thresh = self.get_parameter(\'temperature_threshold\').value\n        self.pos_tol = self.get_parameter(\'position_tolerance\').value\n\n        # Publishers\n        self.emergency_pub = self.create_publisher(Bool, \'emergency_stop\', 10)\n        self.safety_status_pub = self.create_publisher(String, \'safety_status\', 10)\n\n        # Subscribers\n        self.balance_sub = self.create_subscription(\n            BalanceState, \'balance_state\', self.balance_callback, 10\n        )\n        self.joint_health_sub = self.create_subscription(\n            JointHealth, \'joint_health\', self.health_callback, 10\n        )\n        self.joint_state_sub = self.create_subscription(\n            JointState, \'joint_states\', self.joint_state_callback, 10\n        )\n\n        # Internal state\n        self.current_balance = None\n        self.joint_health_status = {}\n        self.safety_lock = Lock()\n        self.safety_engaged = False\n\n        # Safety monitoring timer\n        self.safety_timer = self.create_timer(0.1, self.safety_check)\n\n        self.get_logger().info(\'Safety Monitor Node initialized\')\n\n    def balance_callback(self, msg):\n        """Process balance state messages"""\n        self.current_balance = msg\n\n    def health_callback(self, msg):\n        """Process joint health messages"""\n        for status in msg.joint_statuses:\n            self.joint_health_status[status.joint_name] = status\n\n    def joint_state_callback(self, msg):\n        """Process joint state messages for position/velocity checks"""\n        # Store for safety checks\n        pass\n\n    def safety_check(self):\n        """Main safety monitoring function"""\n        with self.safety_lock:\n            issues = []\n\n            # Check balance\n            if self.current_balance:\n                if self.current_balance.balance_metric > self.balance_thresh:\n                    issues.append(f"Balance threshold exceeded: {self.current_balance.balance_metric:.2f}\xb0 > {self.balance_thresh}\xb0")\n\n            # Check joint health\n            for joint_name, health_status in self.joint_health_status.items():\n                if not health_status.position_ok:\n                    issues.append(f"Joint {joint_name} position limit exceeded")\n                if not health_status.temperature_ok:\n                    issues.append(f"Joint {joint_name} temperature threshold exceeded")\n                if not health_status.velocity_ok:\n                    issues.append(f"Joint {joint_name} velocity limit exceeded")\n\n            # Publish safety status\n            status_msg = String()\n            if issues:\n                status_msg.data = "ISSUES: " + "; ".join(issues)\n                self.get_logger().warn(status_msg.data)\n\n                # Check if emergency stop is needed\n                if self.emergency_enabled and self.should_emergency_stop(issues):\n                    self.trigger_emergency_stop()\n                    status_msg.data = "EMERGENCY STOP ACTIVATED: " + status_msg.data\n            else:\n                status_msg.data = "SAFE: All systems nominal"\n                if self.safety_engaged:\n                    self.release_emergency_stop()\n\n            self.safety_status_pub.publish(status_msg)\n\n    def should_emergency_stop(self, issues):\n        """Determine if emergency stop should be triggered"""\n        critical_issues = [\n            issue for issue in issues\n            if "Balance threshold" in issue or "temperature threshold" in issue\n        ]\n        return len(critical_issues) > 0\n\n    def trigger_emergency_stop(self):\n        """Trigger emergency stop"""\n        if not self.safety_engaged:\n            self.safety_engaged = True\n            self.get_logger().fatal("EMERGENCY STOP TRIGGERED!")\n\n            # Publish emergency stop message\n            stop_msg = Bool()\n            stop_msg.data = True\n            self.emergency_pub.publish(stop_msg)\n\n    def release_emergency_stop(self):\n        """Release emergency stop"""\n        if self.safety_engaged:\n            self.safety_engaged = False\n            self.get_logger().info("Emergency stop released")\n\n            # Publish release message\n            release_msg = Bool()\n            release_msg.data = False\n            self.emergency_pub.publish(release_msg)\n'})}),"\n",(0,o.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,o.jsx)(n.h3,{id:"main-launch-file",children:"Main Launch File"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# launch/humanoid_control.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\ndef generate_launch_description():\n    # Launch arguments\n    namespace_arg = DeclareLaunchArgument(\n        'namespace',\n        default_value='',\n        description='Namespace for the nodes'\n    )\n\n    config_dir = os.path.join(get_package_share_directory('humanoid_control'), 'config')\n\n    return LaunchDescription([\n        namespace_arg,\n\n        # Humanoid Controller Node\n        Node(\n            package='humanoid_control',\n            executable='humanoid_controller',\n            name='humanoid_controller',\n            namespace=LaunchConfiguration('namespace'),\n            parameters=[\n                os.path.join(config_dir, 'parameters.yaml'),\n                {'robot_description': ''},\n                {'control_frequency': 100},\n                {'max_joint_velocity': 1.0},\n                {'balance_control_enabled': True}\n            ],\n            output='screen'\n        ),\n\n        # Sensor Processor Node\n        Node(\n            package='humanoid_control',\n            executable='sensor_processor',\n            name='sensor_processor',\n            namespace=LaunchConfiguration('namespace'),\n            parameters=[\n                os.path.join(config_dir, 'parameters.yaml'),\n                {'imu_calibration_enabled': True},\n                {'health_check_interval': 1.0},\n                {'balance_threshold': 15.0}\n            ],\n            output='screen'\n        ),\n\n        # Safety Monitor Node\n        Node(\n            package='humanoid_control',\n            executable='safety_monitor',\n            name='safety_monitor',\n            namespace=LaunchConfiguration('namespace'),\n            parameters=[\n                os.path.join(config_dir, 'parameters.yaml'),\n                {'emergency_stop_enabled': True},\n                {'balance_threshold': 20.0},\n                {'temperature_threshold': 75.0},\n                {'position_tolerance': 0.1}\n            ],\n            output='screen'\n        )\n    ])\n"})}),"\n",(0,o.jsx)(n.h2,{id:"testing-framework",children:"Testing Framework"}),"\n",(0,o.jsx)(n.h3,{id:"unit-tests",children:"Unit Tests"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# test/test_controller.py\nimport unittest\nimport rclpy\nfrom rclpy.executors import SingleThreadedExecutor\nfrom humanoid_control.humanoid_controller_node import HumanoidControllerNode\n\nclass TestHumanoidController(unittest.TestCase):\n    @classmethod\n    def setUpClass(cls):\n        rclpy.init()\n\n    @classmethod\n    def tearDownClass(cls):\n        rclpy.shutdown()\n\n    def setUp(self):\n        self.node = HumanoidControllerNode()\n        self.executor = SingleThreadedExecutor()\n        self.executor.add_node(self.node)\n\n    def tearDown(self):\n        self.node.destroy_node()\n\n    def test_node_initialization(self):\n        """Test that the node initializes properly"""\n        self.assertIsNotNone(self.node)\n        self.assertEqual(self.node.count, 0)\n\n    def test_parameters(self):\n        """Test that parameters are declared and accessible"""\n        self.assertTrue(self.node.has_parameter(\'control_frequency\'))\n        self.assertTrue(self.node.has_parameter(\'max_joint_velocity\'))\n        self.assertTrue(self.node.has_parameter(\'balance_control_enabled\'))\n\n    def test_publishers_created(self):\n        """Test that required publishers are created"""\n        # Check that publishers exist\n        pub_names = [pub.topic_name for pub in self.node.publishers]\n        self.assertIn(\'/joint_trajectory_controller/joint_trajectory\', pub_names)\n\nif __name__ == \'__main__\':\n    unittest.main()\n'})}),"\n",(0,o.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,o.jsx)(n.h3,{id:"user-guide",children:"User Guide"}),"\n",(0,o.jsx)(n.p,{children:"The user guide should include:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Installation instructions"}),"\n",(0,o.jsx)(n.li,{children:"Configuration options"}),"\n",(0,o.jsx)(n.li,{children:"Usage examples"}),"\n",(0,o.jsx)(n.li,{children:"Troubleshooting tips"}),"\n",(0,o.jsx)(n.li,{children:"API reference"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"tutorials",children:"Tutorials"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Basic setup and configuration"}),"\n",(0,o.jsx)(n.li,{children:"Running the controller nodes"}),"\n",(0,o.jsx)(n.li,{children:"Sending commands to the humanoid"}),"\n",(0,o.jsx)(n.li,{children:"Monitoring safety systems"}),"\n",(0,o.jsx)(n.li,{children:"Customizing parameters"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"build-system-configuration",children:"Build System Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"cmakeliststxt-for-c-implementation",children:"CMakeLists.txt (for C++ implementation)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\nproject(humanoid_control)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\n  add_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\n# Find dependencies\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(std_msgs REQUIRED)\nfind_package(sensor_msgs REQUIRED)\nfind_package(geometry_msgs REQUIRED)\nfind_package(control_msgs REQUIRED)\nfind_package(trajectory_msgs REQUIRED)\nfind_package(builtin_interfaces REQUIRED)\nfind_package(humanoid_control_msgs REQUIRED)  # Custom message package\n\n# Include directories\ninclude_directories(include)\n\n# Add executables\nadd_executable(humanoid_controller src/humanoid_controller_node.cpp)\nadd_executable(sensor_processor src/sensor_processor_node.cpp)\nadd_executable(safety_monitor src/safety_monitor_node.cpp)\n\n# Link libraries\nament_target_dependencies(humanoid_controller\n  "rclcpp"\n  "std_msgs"\n  "sensor_msgs"\n  "geometry_msgs"\n  "control_msgs"\n  "trajectory_msgs"\n  "builtin_interfaces"\n  "humanoid_control_msgs"\n)\n\nament_target_dependencies(sensor_processor\n  "rclcpp"\n  "std_msgs"\n  "sensor_msgs"\n  "geometry_msgs"\n  "builtin_interfaces"\n  "humanoid_control_msgs"\n)\n\nament_target_dependencies(safety_monitor\n  "rclcpp"\n  "std_msgs"\n  "sensor_msgs"\n  "geometry_msgs"\n  "builtin_interfaces"\n  "humanoid_control_msgs"\n)\n\n# Install executables\ninstall(TARGETS\n  humanoid_controller\n  sensor_processor\n  safety_monitor\n  DESTINATION lib/${PROJECT_NAME}\n)\n\n# Install other files\ninstall(DIRECTORY\n  launch\n  config\n  DESTINATION share/${PROJECT_NAME}/\n)\n\nament_package()\n'})}),"\n",(0,o.jsx)(n.h2,{id:"evaluation-criteria",children:"Evaluation Criteria"}),"\n",(0,o.jsx)(n.h3,{id:"technical-requirements-70",children:"Technical Requirements (70%)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Code Quality"}),": Well-structured, commented, following ROS 2 best practices"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Functionality"}),": All required features work correctly"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Integration"}),": Proper communication between nodes"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Safety"}),": Robust safety systems implemented"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Documentation"}),": Comprehensive and clear"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"innovation-and-complexity-20",children:"Innovation and Complexity (20%)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Advanced Features"}),": Beyond basic requirements"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Problem Solving"}),": Creative solutions to challenges"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Performance"}),": Efficient algorithms and resource usage"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"testing-and-validation-10",children:"Testing and Validation (10%)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test Coverage"}),": Adequate unit and integration tests"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validation"}),": Proper verification of functionality"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Debugging"}),": Clear error handling and logging"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"submission-requirements",children:"Submission Requirements"}),"\n",(0,o.jsx)(n.h3,{id:"required-files",children:"Required Files"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Complete package source code"}),"\n",(0,o.jsx)(n.li,{children:"Launch files for different configurations"}),"\n",(0,o.jsx)(n.li,{children:"Configuration files"}),"\n",(0,o.jsx)(n.li,{children:"Unit and integration tests"}),"\n",(0,o.jsx)(n.li,{children:"Documentation files"}),"\n",(0,o.jsx)(n.li,{children:"README with build and run instructions"}),"\n",(0,o.jsx)(n.li,{children:"Demo video showing functionality (optional but recommended)"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"assessment-rubric",children:"Assessment Rubric"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Functionality"}),": Does the package work as specified?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Code Quality"}),": Is the code well-written and maintainable?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"ROS 2 Compliance"}),": Does it follow ROS 2 conventions?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Safety"}),": Are safety considerations properly addressed?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Documentation"}),": Is the package well-documented?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Testing"}),": Are there adequate tests?"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This project provides comprehensive experience in ROS 2 package development for humanoid robotics, covering all essential aspects from basic communication to advanced safety systems."})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>i});var t=s(6540);const o={},a=t.createContext(o);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);